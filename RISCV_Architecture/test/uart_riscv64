#! /c/Source/iverilog-install/bin/vvp
:ivl_version "12.0 (devel)" "(s20150603-1539-g2693dd32b)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 9;
:vpi_module "C:\iverilog\lib\ivl\system.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_sys.vpi";
:vpi_module "C:\iverilog\lib\ivl\vhdl_textio.vpi";
:vpi_module "C:\iverilog\lib\ivl\v2005_math.vpi";
:vpi_module "C:\iverilog\lib\ivl\va_math.vpi";
S_000001585031ba40 .scope module, "uart_perceptron_sim" "uart_perceptron_sim" 2 3;
 .timescale -9 -9;
v00000158503bca60 .array/i "digits", 9 0, 31 0;
v00000158503bcb00_0 .var/i "i", 31 0;
v00000158503bcba0_0 .var/i "ndigits", 31 0;
v00000158503bcc40_0 .var/i "out", 31 0;
v00000158503bcce0_0 .var/i "sum", 31 0;
v00000158503bcd80_0 .var/i "v", 31 0;
v00000158503bce20_0 .var/i "x1", 31 0;
v00000158503bcec0_0 .var/i "x2", 31 0;
S_000001585031bbd0 .scope task, "delay_ms" "delay_ms" 2 43, 2 43 0, S_000001585031ba40;
 .timescale -9 -9;
v0000015850316c20_0 .var/i "j", 31 0;
v00000158503167b0_0 .var/i "ms", 31 0;
TD_uart_perceptron_sim.delay_ms ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0000015850316c20_0, 0, 32;
T_0.0 ;
    %load/vec4 v0000015850316c20_0;
    %load/vec4 v00000158503167b0_0;
    %muli 50000, 0, 32;
    %cmp/s;
    %jmp/0xz T_0.1, 5;
    %delay 20, 0;
    %load/vec4 v0000015850316c20_0;
    %addi 1, 0, 32;
    %store/vec4 v0000015850316c20_0, 0, 32;
    %jmp T_0.0;
T_0.1 ;
    %end;
S_00000158503bc010 .scope function.vec4.u32, "perceptron" "perceptron" 2 50, 2 50 0, S_000001585031ba40;
 .timescale -9 -9;
v000001585031b860_0 .var/i "in_x1", 31 0;
v000001585031bd60_0 .var/i "in_x2", 31 0;
; Variable perceptron is vec4 return value of scope S_00000158503bc010
v00000158503bc1a0_0 .var/i "s", 31 0;
TD_uart_perceptron_sim.perceptron ;
    %load/vec4 v000001585031b860_0;
    %muli 2, 0, 32;
    %load/vec4 v000001585031bd60_0;
    %muli 4294967293, 0, 32;
    %add;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bc1a0_0, 0, 32;
    %load/vec4 v00000158503bc1a0_0;
    %cmpi/s 0, 0, 32;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %flag_mov 8, 5;
    %jmp/0 T_1.2, 8;
    %pushi/vec4 1, 0, 32;
    %jmp/1 T_1.3, 8;
T_1.2 ; End of true expr.
    %pushi/vec4 0, 0, 32;
    %jmp/0 T_1.3, 8;
 ; End of false expr.
    %blend;
T_1.3;
    %ret/vec4 0, 0, 32;  Assign to perceptron (store_vec4_to_lval)
    %end;
S_00000158503bc240 .scope task, "uart_puts_1" "uart_puts_1" 2 32, 2 32 0, S_000001585031ba40;
 .timescale -9 -9;
TD_uart_perceptron_sim.uart_puts_1 ;
    %vpi_call 2 32 "$write", "\012*** RISC-V simple perceptron demo ***\012" {0 0 0};
    %end;
S_00000158503bc3d0 .scope task, "uart_puts_2" "uart_puts_2" 2 33, 2 33 0, S_000001585031ba40;
 .timescale -9 -9;
TD_uart_perceptron_sim.uart_puts_2 ;
    %vpi_call 2 33 "$write", "x1 x2 | weighted_sum | output\012" {0 0 0};
    %end;
S_00000158503bc560 .scope task, "uart_puts_space" "uart_puts_space" 2 35, 2 35 0, S_000001585031ba40;
 .timescale -9 -9;
v00000158503bc6f0_0 .var/i "j", 31 0;
v00000158503bc790_0 .var/i "n", 31 0;
TD_uart_perceptron_sim.uart_puts_space ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v00000158503bc6f0_0, 0, 32;
T_4.4 ;
    %load/vec4 v00000158503bc6f0_0;
    %load/vec4 v00000158503bc790_0;
    %cmp/s;
    %jmp/0xz T_4.5, 5;
    %vpi_call 2 38 "$write", " " {0 0 0};
    %load/vec4 v00000158503bc6f0_0;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bc6f0_0, 0, 32;
    %jmp T_4.4;
T_4.5 ;
    %end;
S_00000158503bc830 .scope task, "uart_putu" "uart_putu" 2 11, 2 11 0, S_000001585031ba40;
 .timescale -9 -9;
v00000158503bc9c0_0 .var/i "val", 31 0;
TD_uart_perceptron_sim.uart_putu ;
    %load/vec4 v00000158503bc9c0_0;
    %cmpi/e 0, 0, 32;
    %jmp/0xz  T_5.6, 4;
    %vpi_call 2 14 "$write", "0" {0 0 0};
    %jmp T_5.7;
T_5.6 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v00000158503bcba0_0, 0, 32;
    %load/vec4 v00000158503bc9c0_0;
    %store/vec4 v00000158503bcd80_0, 0, 32;
T_5.8 ;
    %load/vec4 v00000158503bcd80_0;
    %cmpi/s 0, 0, 32;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz T_5.9, 5;
    %load/vec4 v00000158503bcd80_0;
    %pushi/vec4 10, 0, 32;
    %mod/s;
    %ix/getv/s 4, v00000158503bcba0_0;
    %store/vec4a v00000158503bca60, 4, 0;
    %load/vec4 v00000158503bcd80_0;
    %pushi/vec4 10, 0, 32;
    %div/s;
    %store/vec4 v00000158503bcd80_0, 0, 32;
    %load/vec4 v00000158503bcba0_0;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bcba0_0, 0, 32;
    %jmp T_5.8;
T_5.9 ;
    %load/vec4 v00000158503bcba0_0;
    %subi 1, 0, 32;
    %store/vec4 v00000158503bcb00_0, 0, 32;
T_5.10 ;
    %load/vec4 v00000158503bcb00_0;
    %cmpi/s 0, 0, 32;
    %flag_inv 5; GE is !LT
    %jmp/0xz T_5.11, 5;
    %vpi_call 2 26 "$write", "%0d", &A<v00000158503bca60, v00000158503bcb00_0 > {0 0 0};
    %load/vec4 v00000158503bcb00_0;
    %subi 1, 0, 32;
    %store/vec4 v00000158503bcb00_0, 0, 32;
    %jmp T_5.10;
T_5.11 ;
T_5.7 ;
    %end;
    .scope S_000001585031ba40;
T_6 ;
    %fork TD_uart_perceptron_sim.uart_puts_1, S_00000158503bc240;
    %join;
    %fork TD_uart_perceptron_sim.uart_puts_2, S_00000158503bc3d0;
    %join;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v00000158503bce20_0, 0, 32;
T_6.0 ;
    %load/vec4 v00000158503bce20_0;
    %cmpi/s 1, 0, 32;
    %flag_or 5, 4;
    %jmp/0xz T_6.1, 5;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v00000158503bcec0_0, 0, 32;
T_6.2 ;
    %load/vec4 v00000158503bcec0_0;
    %cmpi/s 1, 0, 32;
    %flag_or 5, 4;
    %jmp/0xz T_6.3, 5;
    %load/vec4 v00000158503bce20_0;
    %muli 2, 0, 32;
    %load/vec4 v00000158503bcec0_0;
    %muli 4294967293, 0, 32;
    %add;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bcce0_0, 0, 32;
    %load/vec4 v00000158503bce20_0;
    %load/vec4 v00000158503bcec0_0;
    %store/vec4 v000001585031bd60_0, 0, 32;
    %store/vec4 v000001585031b860_0, 0, 32;
    %callf/vec4 TD_uart_perceptron_sim.perceptron, S_00000158503bc010;
    %store/vec4 v00000158503bcc40_0, 0, 32;
    %load/vec4 v00000158503bce20_0;
    %store/vec4 v00000158503bc9c0_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_putu, S_00000158503bc830;
    %join;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v00000158503bc790_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_puts_space, S_00000158503bc560;
    %join;
    %load/vec4 v00000158503bcec0_0;
    %store/vec4 v00000158503bc9c0_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_putu, S_00000158503bc830;
    %join;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v00000158503bc790_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_puts_space, S_00000158503bc560;
    %join;
    %vpi_call 2 71 "$write", "|      " {0 0 0};
    %load/vec4 v00000158503bcce0_0;
    %cmpi/s 0, 0, 32;
    %flag_mov 8, 5;
    %jmp/0 T_6.4, 8;
    %pushi/vec4 0, 0, 32;
    %jmp/1 T_6.5, 8;
T_6.4 ; End of true expr.
    %load/vec4 v00000158503bcce0_0;
    %jmp/0 T_6.5, 8;
 ; End of false expr.
    %blend;
T_6.5;
    %store/vec4 v00000158503bc9c0_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_putu, S_00000158503bc830;
    %join;
    %pushi/vec4 7, 0, 32;
    %store/vec4 v00000158503bc790_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_puts_space, S_00000158503bc560;
    %join;
    %vpi_call 2 74 "$write", "|   " {0 0 0};
    %load/vec4 v00000158503bcc40_0;
    %store/vec4 v00000158503bc9c0_0, 0, 32;
    %fork TD_uart_perceptron_sim.uart_putu, S_00000158503bc830;
    %join;
    %vpi_call 2 76 "$write", "\012" {0 0 0};
    %pushi/vec4 3, 0, 32;
    %store/vec4 v00000158503167b0_0, 0, 32;
    %fork TD_uart_perceptron_sim.delay_ms, S_000001585031bbd0;
    %join;
    %load/vec4 v00000158503bcec0_0;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bcec0_0, 0, 32;
    %jmp T_6.2;
T_6.3 ;
    %load/vec4 v00000158503bce20_0;
    %addi 1, 0, 32;
    %store/vec4 v00000158503bce20_0, 0, 32;
    %jmp T_6.0;
T_6.1 ;
    %vpi_call 2 81 "$finish" {0 0 0};
    %end;
    .thread T_6;
# The file index is used to find the file name in the following table.
:file_names 3;
    "N/A";
    "<interactive>";
    "uart_perceptron.v";
