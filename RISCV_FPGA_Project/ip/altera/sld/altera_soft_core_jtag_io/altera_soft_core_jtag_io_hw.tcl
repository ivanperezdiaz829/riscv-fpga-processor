# (C) 2001-2013 Altera Corporation. All rights reserved.
# Your use of Altera Corporation's design tools, logic functions and other 
# software and tools, and its AMPP partner logic functions, and any output 
# files any of the foregoing (including device programming or simulation 
# files), and any associated documentation or information are expressly subject 
# to the terms and conditions of the Altera Program License Subscription 
# Agreement, Altera MegaCore Function License Agreement, or other applicable 
# license agreement, including, without limitation, that your use is for the 
# sole purpose of programming logic devices manufactured by Altera and sold by 
# Altera or its authorized distributors.  Please refer to the applicable 
# agreement for further details.


# TCL File Generated by Component Editor 13.1
# Tue Aug 06 09:50:05 PDT 2013
# DO NOT MODIFY


# 
# altera_soft_core_jtag_io "altera_soft_core_jtag_io" v1.0
#  2013.08.06.09:50:05
# 
# 

# 
# request TCL package from ACDS 13.1
# 
package require -exact qsys 13.1


# 
# module altera_soft_core_jtag_io
# 
set_module_property DESCRIPTION "This soft JTAG I/O megafunction, altera_soft_core_jtag_io, provides a standard JTAG interface that controls all JTAG based SLD debug nodes.<br>  Under the hood, it really controls SLD JTAG hub to which SLD debug nodes connect.  Optionally, it provides a signal to select whether SLD JTAG hub is controlled by the JTAG I/O<br>on this megafunction or by the JTAG I/O on the device JTAG hard controller.
A minimal JTAG controller is implemented to allow full operations of tools<br>that communicate to SLD debug nodes connected to SLD JTAG hub.  The IR instructions implemented are BYPASS, IDCODE, USR0, and USR1.<br>All other IR values are mapped to BYPASS.  This JTAG controller returns IDCODE value, 0x020030DD, which is assigned to Altera soft JTAG controller.<br>The tdo output is never tri-stated, which does not conform to the JTAG standard. 
Only one instance of such megafunction is allowed within one project."
set_module_property NAME altera_soft_core_jtag_io
set_module_property VERSION 13.1
set_module_property INTERNAL false
set_module_property OPAQUE_ADDRESS_MAP true
set_module_property AUTHOR "Altera Corporation"
set_module_property GROUP "Verification/Debug & Performance"
set_module_property DISPLAY_NAME "Altera Soft Core JTAG IO"
set_module_property INSTANTIATE_IN_SYSTEM_MODULE true
set_module_property EDITABLE false
set_module_property ANALYZE_HDL AUTO
set_module_property REPORT_TO_TALKBACK false
set_module_property ALLOW_GREYBOX_GENERATION false
set_module_property NATIVE_INTERPRETER true
set_module_property elaboration_callback do_elaboration

# 
# file sets
# 
add_fileset QUARTUS_SYNTH QUARTUS_SYNTH "" ""
set_fileset_property QUARTUS_SYNTH TOP_LEVEL altera_soft_core_jtag_io
#set_fileset_property QUARTUS_SYNTH ENABLE_RELATIVE_INCLUDE_PATHS false
#add_fileset_file altera_soft_core_jtag_io.vhd VHDL PATH ../../acds_13_1_64b/acds/quartus/libraries/megafunctions/altera_soft_core_jtag_io.vhd TOP_LEVEL_FILE


# 
# parameters
# 
add_parameter ENABLE_JTAG_IO_SELECTION BOOLEAN false ""
set_parameter_property ENABLE_JTAG_IO_SELECTION DEFAULT_VALUE false
set_parameter_property ENABLE_JTAG_IO_SELECTION DISPLAY_NAME ENABLE_JTAG_IO_SELECTION
set_parameter_property ENABLE_JTAG_IO_SELECTION WIDTH ""
set_parameter_property ENABLE_JTAG_IO_SELECTION TYPE INTEGER
set_parameter_property ENABLE_JTAG_IO_SELECTION UNITS None
set_parameter_property ENABLE_JTAG_IO_SELECTION DISPLAY_HINT BOOLEAN
set_parameter_property ENABLE_JTAG_IO_SELECTION DESCRIPTION "Specifies whether the JTAG I/O selection is enabled. If enabled, a select input port is used and drives a mux that selects the JTAG I/O between the interface on this megafunction and the interface on the JTAG hard controller. As mux is added on tck, a clock input to registers, clock skew may occur. You are responsible for timing closure, and no extra fitter support is provided for it. A non-zero value enables this parameter; zero disables it. The default is 0."
set_parameter_property ENABLE_JTAG_IO_SELECTION HDL_PARAMETER true


proc do_elaboration {} {
	# 
	# connection point jtag
	# 
	add_interface jtag conduit end
	set_interface_property JTAG associatedClock tck
	add_interface_port jtag tms tms Input 1
	add_interface_port jtag tdi tdi Input 1
	add_interface_port jtag tdo tdo Output 1

	# 
	# connection point tck
	# 
	add_interface tck clock end
	set_interface_property tck clockRate 0
	set_interface_property tck ENABLED true
	add_interface_port tck tck clk Input 1
	
	#
	# connection point select_this
	#
	add_interface select_this conduit end
	add_interface_port select_this select_this select_this Input 1
	
	if {![get_parameter_value ENABLE_JTAG_IO_SELECTION]} {
		set_port_property select_this termination true
	} 
}
